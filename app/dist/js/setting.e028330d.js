(function(e){function n(n){for(var o,i,c=n[0],u=n[1],l=n[2],p=0,d=[];p<c.length;p++)i=c[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);s&&s(n);while(d.length)d.shift()();return a.push.apply(a,l||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],o=!0,c=1;c<t.length;c++){var u=t[c];0!==r[u]&&(o=!1)}o&&(a.splice(n--,1),e=i(i.s=t[0]))}return e}var o={},r={setting:0},a=[];function i(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=o,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)i.d(t,o,function(n){return e[n]}.bind(null,o));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=n,c=c.slice();for(var l=0;l<c.length;l++)n(c[l]);var s=u;a.push([3,"chunk-vendors"]),t()})({0:function(e,n){},"136a":function(e,n,t){"use strict";t("4160"),t("159b");var o=t("2909");function r(){window.TDGA&&(a.forEach((function(e){var n;(n=window.TDGA)[e.fn].apply(n,Object(o["a"])(e.args))})),a=null)}var a=[];n["a"]=new Proxy({},{get:function(e,n){return window.TDGA?(a&&r(),function(){var e;return(e=window.TDGA)[n].apply(e,arguments)}):function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];a.push({fn:n,args:t})}}})},"2d71":function(e,n,t){"use strict";t.d(n,"b",(function(){return c}));var o=t("7ed9");function r(e){return function(n){n&&"access denied"==n?(e("登录已失效，请重登"),o["b"].$emit("relogin")):e.apply(null,arguments)}}var a=Object(o["c"])(),i=new Proxy(a,{get:function(e,n){if("emit"==n)return function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];if("function"===typeof n[n.length-1]){var o=n.pop();n.push(r(o))}a.emit.apply(a,n)};var t=a[n];return"function"===typeof t?function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.apply(a,n)}:t}});function c(e){return"function"===typeof e?e(i):i}n["a"]={loggedIn:function(){return i.isLogined},logout:function(){localStorage.adminAccount=void 0,localStorage.adminToken=void 0,i.isLogined=void 0},stdret:r}},3:function(e,n,t){e.exports=t("cd5d")},"7ed9":function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return f})),t.d(n,"c",(function(){return h}));t("7db0"),t("c975"),t("a434"),t("b0c0"),t("a9e3"),t("4d63"),t("ac1f"),t("25f0"),t("5319"),t("1276");var o,r=t("2b0e"),a=t("0b16"),i=t.n(a),c=t("df7c"),u=t.n(c),l=t("4bea"),s=t.n(l),p=t("136a"),d={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,n,t,o,r,a){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var i="";if(t)switch(t.constructor){case Number:i=t===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+t;break;case String:i="; expires="+t;break;case Date:i="; expires="+t.toUTCString();break}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(n)+i+(r?"; domain="+r:"")+(o?"; path="+o:"")+(a?"; secure":""),!0},removeItem:function(e,n,t){return!(!e||!this.hasItem(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; domain="+t:"")+(n?"; path="+n:""),!0)},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),n=0;n<e.length;n++)e[n]=decodeURIComponent(e[n]);return e}},f=new r["default"];function h(e){if(o)o.disconnected&&o.connect();else{var n=i.a.parse(location.href,!0),t=n.query;if(t.server=t.server||window.server,t.server){t.server.indexOf("http")<0&&(t.server="http://"+t.server);var r=i.a.parse(t.server);n.host=r.host,n.pathname=r.pathname,n.protocol=r.protocol,n.port=r.port}var a=n.host;/\.[^/\\]+$/.test(n.pathname)?n._p=u.a.dirname(n.pathname):n._p=n.pathname;var c=a+n._p;".app"==u.a.extname(n.pathname)&&(c+="/"+u.a.basename(n.pathname)),o=window.socket=s()(c,{reconnectionAttempts:3,transports:["websocket"]}),o.on("statechanged",(function(e){var n=window.v.$store.state;if(e.user){var t=e.user;for(var o in t)"whatsup"==o&&n.me.whatsup!=t.whatsup&&f.$emit("whatsupchgd",t.whatsup,n.me.whatsup),n.me[o]=t[o];p["a"].Account({accountId:n.me.phone,accountName:n.me.name,gender:-1})}e.history&&(n.history=e.history),e.orders&&(n.orders=e.orders),e.countdown&&(n.countdown=e.countdown),e.period&&(n.period=e.period),e.status&&(n.status=e.status)})),o.on("gameresult",(function(e){var n=window.v.$store.state;n.history.push(e.history),n.history.length>50&&n.history.splice(0,40),e.status&&(n.status=status);for(var t=n.orders.length-1;t>=0;t--){var o=n.orders[t];if(o.game.period!=e.history.period)break;var r=o;r.game.price=e.history.price,n.orders.splice(t,1,r);var a=b(r);a&&p["a"].onReward(a,"投注".concat(r.select,"获胜"))}})),o.on("incbalance",(function(e){var n=window.v.$store.state;n.me.balance+=e})),o.on("orderchanged",(function(e){var n=window.v.$store.state,t=n.orders.find((function(n){return n.id==e.id}));n.orders[t]=e})),o.on("connect",(function(){f.$emit("connect",o)})).on("error",console.error.bind(console,"err")).on("connect_error",(function(){f.$emit("relogin")})).on("connect_timeout",(function(){f.$emit("relogin")})).on("disconnect",(function(){f.$emit("relogin")})).on("notify",(function(e){f.$emit("notify",e)})).on("kicked",(function(e){f.$emit("kicked",e)}))}return"function"==typeof e&&e(o),o}function m(e){return e=String(e),Number(e.substr(e.length-1,1))}function b(e){var n,t=m(e.game.price);return"Green"==e.select&&t%2==1?(n=5==t?1.5*(e.betting-e.fee):2*(e.betting-e.fee),n):"Red"==e.select&&t%2==0?(n=0==t?1.5*(e.betting-e.fee):2*(e.betting-e.fee),n):"Violet"!=e.select||0!=t&&5!=t?e.select==t?(n=9*(e.betting-e.fee),n):0:(n=4.5*(e.betting-e.fee),n)}},9848:function(e,n,t){"use strict";var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("b-form",{staticClass:"mt-5"},[t("b-form-group",{attrs:{id:"login-phone"}},[t("b-form-input",{attrs:{required:"",placeholder:"User name"},model:{value:e.mobile,callback:function(n){e.mobile=n},expression:"mobile"}})],1),t("b-form-group",[t("b-form-input",{attrs:{type:"password",required:"",placeholder:"Password"},model:{value:e.password,callback:function(n){e.password=n},expression:"password"}})],1),e.regmode?t("b-form-group",[t("b-button",{attrs:{type:"submit",variant:"primary",block:""},on:{click:e.reg}},[e._v("Sign up")]),t("p",[e._v("首次使用，请注册管理员账号，一旦注册不可更改")])],1):t("b-button",{attrs:{type:"submit",variant:"primary",block:""},on:{click:e.dologin}},[e._v("Sign in")])],1)},r=[],a=(t("ac1f"),t("5319"),t("2d71")),i=t("6821"),c=t.n(i),u=Object(a["b"])(),l={name:"login",data:function(){return{mobile:null,password:null,logged:!1,longop:!1,regmode:!1}},methods:{loggedIn:function(){return!!this.logged},reg:function(e){e.preventDefault(),this.longop=!0;var n=this.mobile,t=this.password,o=this;function r(){o.longop=!1,u.off("reconnect_failed",r),alert("Can not reach the server")}u.on("reconnect_failed",r),u.emit("regadmin",{phone:n,pwd:t},(function(e,t){o.handlelogin(e,n,t),u.off("reconnect_failed",r)}))},dologin:function(e){e.preventDefault(),this.longop=!0;var n=this.mobile,t=this.password,o=this;function r(){o.longop=!1,u.off("reconnect_failed",r),alert("Can not reach the server")}u.on("reconnect_failed",r),u.emit("salt",n,(function(e,a){if(e)return o.longop=!1,void alert(e);u.emit("login",{phone:n,pwd:c()(""+a+t)},(function(e,t){o.handlelogin(e,n,t),u.off("reconnect_failed",r)}))}))},handlelogin:function(e,n,t){if(this.longop=!1,e)return alert(e);localStorage.adminAccount=n,localStorage.adminToken=t,u.isLogined=!0;var o=this.$router.currentRoute.query.redirect;o?this.$router.replace(o):this.$router.replace("/serverlet")}},mounted:function(){var e=this;u.emit("adminexists",(function(n,t){if(n)return alert(n);e.regmode=!t,e.mobile="admin"}))}},s=l,p=t("2877"),d=Object(p["a"])(s,o,r,!1,null,null,null);n["a"]=d.exports},cd5d:function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var o=t("2b0e"),r=t("8c4f"),a=t("2f62"),i=t("5f5b"),c=t("0759"),u=t("7386"),l=(t("f9e3"),t("2dd8"),function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("sys-menu"),t("router-view")],1)}),s=[],p=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info",fixed:"top",sticky:""}},[t("b-navbar-brand",{attrs:{href:"#"}},[e._v("Admin")]),t("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),t("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[t("b-navbar-nav",{},[t("b-nav-item",{attrs:{to:"serverlet"}},[e._v("系统设置")]),t("b-nav-item",{attrs:{to:"logout"}},[e._v("注销")])],1)],1)],1)],1)},d=[],f={name:"MENU"},h=f,m=t("2877"),b=Object(m["a"])(h,p,d,!1,null,null,null),v=b.exports,g={name:"Admin",components:{SysMenu:v}},w=g,y=Object(m["a"])(w,l,s,!1,null,null,null),k=y.exports,_=t("7ed9"),$=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("b-form",[t("b-tabs",[t("b-tab",{attrs:{title:"支付配置"}},[t("b",[e._v("必须配置以下参数，否则充值提现都是测试版本")]),t("p"),t("label",[e._v("下单接口")]),t("b-form-input",{model:{value:e.luckyshopee.pay_url,callback:function(n){e.$set(e.luckyshopee,"pay_url",n)},expression:"luckyshopee.pay_url"}}),t("label",[e._v("代付接口")]),t("b-form-input",{model:{value:e.luckyshopee.withdraw_url,callback:function(n){e.$set(e.luckyshopee,"withdraw_url",n)},expression:"luckyshopee.withdraw_url"}}),t("label",[e._v("代付检查接口")]),t("b-form-input",{model:{value:e.luckyshopee.check_withdraw_url,callback:function(n){e.$set(e.luckyshopee,"check_withdraw_url",n)},expression:"luckyshopee.check_withdraw_url"}}),t("label",[e._v("可用资金接口")]),t("b-form-input",{model:{value:e.luckyshopee.check_fund_url,callback:function(n){e.$set(e.luckyshopee,"check_fund_url",n)},expression:"luckyshopee.check_fund_url"}}),t("label",[e._v("短信接口")]),t("b-form-input",{model:{value:e.luckyshopee.sms_url,callback:function(n){e.$set(e.luckyshopee,"sms_url",n)},expression:"luckyshopee.sms_url"}}),t("label",[e._v("appId")]),t("b-form-input",{model:{value:e.luckyshopee.appId,callback:function(n){e.$set(e.luckyshopee,"appId",n)},expression:"luckyshopee.appId"}}),t("label",[e._v("appKey")]),t("b-form-input",{model:{value:e.luckyshopee.appKey,callback:function(n){e.$set(e.luckyshopee,"appKey",n)},expression:"luckyshopee.appKey"}}),t("label",[e._v("appChannel")]),t("b-form-input",{model:{value:e.luckyshopee.appChannel,callback:function(n){e.$set(e.luckyshopee,"appChannel",n)},expression:"luckyshopee.appChannel"}})],1)],1),t("b-button",{attrs:{block:"",variant:"info"},on:{click:e.submit}},[e._v("Submit")])],1)},x=[],I=(t("a15b"),t("2d71")),O={name:"serverlet",components:{},data:function(){return{luckyshopee:{sms_url:null,pay_url:null,withdraw_url:null,check_withdraw_url:null,check_fund_url:null,appId:null,appKey:null,appChannel:null}}},computed:{},methods:{submit:function(){var e=this.luckyshopee;Object(I["b"])((function(n){n.emit("setsettings",{luckyshopee:e},(function(e){if(e)return alert(e);alert("success")}))}))}},mounted:function(){var e=this;Object(I["b"])((function(n){n.emit("getsettings",(function(n,t){if(n)return alert(n);var o="";t.withdrawPercent&&(o+=100*t.withdrawPercent+"%"),t.withdrawFixed&&(o.length>0&&(o+="+"),o+=t.withdrawFixed),t.temp_result&&t.temp_result.length&&(t.spec_result=t.temp_result.join(","),t.strategy=2),t.withdrawFee=o,t.feeRate=100*t.feeRate+"%",Object.assign(e,t)}))}))}},j=O,S=Object(m["a"])(j,$,x,!1,null,null,null),C=S.exports,R=t("9848");function A(e,n,t){var o=I["a"].loggedIn();o?t():t({path:"/login",query:{redirect:e.fullPath}})}var T=new r["a"]({routes:[{path:"/",component:C,beforeEnter:A},{path:"/serverlet",component:C,beforeEnter:A},{path:"/login",component:R["a"]},{path:"/logout",beforeEnter:function(e,n,t){I["a"].logout(),t("/")}}]});T.onReady((function(){E()}));var P=Object(I["b"])();function E(){}_["b"].$on("relogin",E),_["b"].$on("kicked",(function(e){localStorage.adminAccount=void 0,localStorage.adminToken=void 0,P.isLogined=void 0,alert(e),T.push("/login")})),o["default"].use(r["a"]),o["default"].use(i["a"]),o["default"].component("BIcon",c["a"]),o["default"].component("BIconChevronRight",u["i"]),o["default"].component("BIconChevronLeft",u["h"]),o["default"].component("BIconBoxArrowInLeft",u["b"]),o["default"].use(a["a"]),o["default"].config.productionTip=!1;var U=new a["a"].Store({state:{me:{balance:null,id:null,paytm_id:null},countdown:null,period:null,history:[],orders:[],status:null},mutations:{countdown:function(e){e.countdown>0&&e.countdown--,e.countdown<=30&&(e.status="stop_betting")}}});setInterval((function(){U.commit("countdown")}),1e3),window.v=new o["default"]({router:T,el:"#app",store:U,$eventBus:new o["default"],render:function(e){return e(k)}})}});