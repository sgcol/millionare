(function(e){function t(t){for(var r,i,u=t[0],l=t[1],c=t[2],p=0,f=[];p<u.length;p++)i=u[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);s&&s(t);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,u=1;u<n.length;u++){var l=n[u];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={setting:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var s=l;a.push([3,"chunk-vendors"]),n()})({0:function(e,t){},"136a":function(e,t,n){"use strict";n("4160"),n("159b");var r=n("2909");function o(){window.TDGA&&(a.forEach((function(e){var t;(t=window.TDGA)[e.fn].apply(t,Object(r["a"])(e.args))})),a=null)}var a=[];t["a"]=new Proxy({},{get:function(e,t){return window.TDGA?(a&&o(),function(){var e;return(e=window.TDGA)[t].apply(e,arguments)}):function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];a.push({fn:t,args:n})}}})},"2d71":function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n("7ed9");function o(e){return function(t){t&&"access denied"==t?(e("登录已失效，请重登"),r["b"].$emit("relogin")):e.apply(null,arguments)}}var a=Object(r["c"])(),i=new Proxy(a,{get:function(e,t){if("emit"==t)return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("function"===typeof t[t.length-1]){var r=t.pop();t.push(o(r))}a.emit.apply(a,t)};var n=a[t];return"function"===typeof n?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(a,t)}:n}});function u(e){return"function"===typeof e?e(i):i}t["a"]={loggedIn:function(){return i.isLogined},logout:function(){localStorage.adminAccount=void 0,localStorage.adminToken=void 0,i.isLogined=void 0},stdret:o}},3:function(e,t,n){e.exports=n("cd5d")},"7ed9":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h}));n("7db0"),n("c975"),n("a434"),n("b0c0"),n("a9e3"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),n("1276");var r,o=n("2b0e"),a=n("0b16"),i=n.n(a),u=n("df7c"),l=n.n(u),c=n("4bea"),s=n.n(c),p=n("136a"),f={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,n,r,o,a){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var i="";if(n)switch(n.constructor){case Number:i=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:i="; expires="+n;break;case Date:i="; expires="+n.toUTCString();break}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+i+(o?"; domain="+o:"")+(r?"; path="+r:"")+(a?"; secure":""),!0},removeItem:function(e,t,n){return!(!e||!this.hasItem(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=decodeURIComponent(e[t]);return e}},d=new o["default"];function h(e){if(r)r.disconnected&&r.connect();else{var t=i.a.parse(location.href,!0),n=t.query;if(n.server=n.server||window.server,n.server){n.server.indexOf("http")<0&&(n.server="http://"+n.server);var o=i.a.parse(n.server);t.host=o.host,t.pathname=o.pathname,t.protocol=o.protocol,t.port=o.port}var a=t.host;/\.[^/\\]+$/.test(t.pathname)?t._p=l.a.dirname(t.pathname):t._p=t.pathname;var u=a+t._p;".app"==l.a.extname(t.pathname)&&(u+="/"+l.a.basename(t.pathname)),r=window.socket=s()(u,{reconnectionAttempts:3,transports:["websocket"]}),r.on("statechanged",(function(e){var t=window.v.$store.state;if(e.user){var n=e.user;for(var r in n)"whatsup"==r&&t.me.whatsup!=n.whatsup&&d.$emit("whatsupchgd",n.whatsup,t.me.whatsup),t.me[r]=n[r];p["a"].Account({accountId:t.me.phone,accountName:t.me.name,gender:-1})}e.history&&(t.history=e.history),e.orders&&(t.orders=e.orders),e.countdown&&(t.countdown=e.countdown),e.period&&(t.period=e.period),e.status&&(t.status=e.status)})),r.on("gameresult",(function(e){var t=window.v.$store.state;t.history.push(e.history),t.history.length>50&&t.history.splice(0,40),e.status&&(t.status=status);for(var n=t.orders.length-1;n>=0;n--){var r=t.orders[n];if(r.game.period!=e.history.period)break;var o=r;o.game.price=e.history.price,t.orders.splice(n,1,o);var a=b(o);a&&p["a"].onReward(a,"投注".concat(o.select,"获胜"))}})),r.on("incbalance",(function(e){var t=window.v.$store.state;t.me.balance+=e})),r.on("orderchanged",(function(e){var t=window.v.$store.state,n=t.orders.find((function(t){return t.id==e.id}));t.orders[n]=e})),r.on("connect",(function(){d.$emit("connect",r)})).on("error",console.error.bind(console,"err")).on("connect_error",(function(){d.$emit("relogin")})).on("connect_timeout",(function(){d.$emit("relogin")})).on("disconnect",(function(){d.$emit("relogin")})).on("notify",(function(e){d.$emit("notify",e)})).on("kicked",(function(e){d.$emit("kicked",e)}))}return"function"==typeof e&&e(r),r}function m(e){return e=String(e),Number(e.substr(e.length-1,1))}function b(e){var t,n=m(e.game.price);return"Green"==e.select&&n%2==1?(t=5==n?1.5*(e.betting-e.fee):2*(e.betting-e.fee),t):"Red"==e.select&&n%2==0?(t=0==n?1.5*(e.betting-e.fee):2*(e.betting-e.fee),t):"Violet"!=e.select||0!=n&&5!=n?e.select==n?(t=9*(e.betting-e.fee),t):0:(t=4.5*(e.betting-e.fee),t)}},9848:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form",{staticClass:"mt-5"},[n("b-form-group",{attrs:{id:"login-phone"}},[n("b-form-input",{attrs:{required:"",placeholder:"User name"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}})],1),n("b-form-group",[n("b-form-input",{attrs:{type:"password",required:"",placeholder:"Password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e.regmode?n("b-form-group",[n("b-button",{attrs:{type:"submit",variant:"primary",block:""},on:{click:e.reg}},[e._v("Sign up")]),n("p",[e._v("首次使用，请注册管理员账号，一旦注册不可更改")])],1):n("b-button",{attrs:{type:"submit",variant:"primary",block:""},on:{click:e.dologin}},[e._v("Sign in")])],1)},o=[],a=(n("ac1f"),n("5319"),n("2d71")),i=n("6821"),u=n.n(i),l=Object(a["b"])(),c={name:"login",data:function(){return{mobile:null,password:null,logged:!1,longop:!1,regmode:!1}},methods:{loggedIn:function(){return!!this.logged},reg:function(e){e.preventDefault(),this.longop=!0;var t=this.mobile,n=this.password,r=this;function o(){r.longop=!1,l.off("reconnect_failed",o),alert("Can not reach the server")}l.on("reconnect_failed",o),l.emit("regadmin",{phone:t,pwd:n},(function(e,n){r.handlelogin(e,t,n),l.off("reconnect_failed",o)}))},dologin:function(e){e.preventDefault(),this.longop=!0;var t=this.mobile,n=this.password,r=this;function o(){r.longop=!1,l.off("reconnect_failed",o),alert("Can not reach the server")}l.on("reconnect_failed",o),l.emit("salt",t,(function(e,a){if(e)return r.longop=!1,void alert(e);l.emit("login",{phone:t,pwd:u()(""+a+n)},(function(e,n){r.handlelogin(e,t,n),l.off("reconnect_failed",o)}))}))},handlelogin:function(e,t,n){if(this.longop=!1,e)return alert(e);localStorage.adminAccount=t,localStorage.adminToken=n,l.isLogined=!0;var r=this.$router.currentRoute.query.redirect;r?this.$router.replace(r):this.$router.replace("/serverlet")}},mounted:function(){var e=this;l.emit("adminexists",(function(t,n){if(t)return alert(t);e.regmode=!n,e.mobile="admin"}))}},s=c,p=n("2877"),f=Object(p["a"])(s,r,o,!1,null,null,null);t["a"]=f.exports},cd5d:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=n("8c4f"),a=n("2f62"),i=n("5f5b"),u=n("0759"),l=n("7386"),c=(n("f9e3"),n("2dd8"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("sys-menu"),n("router-view")],1)}),s=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info",fixed:"top",sticky:""}},[n("b-navbar-brand",{attrs:{href:"#"}},[e._v("Admin")]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",{},[n("b-nav-item",{attrs:{to:"serverlet"}},[e._v("系统设置")]),n("b-nav-item",{attrs:{to:"logout"}},[e._v("注销")])],1)],1)],1)],1)},f=[],d={name:"MENU"},h=d,m=n("2877"),b=Object(m["a"])(h,p,f,!1,null,null,null),v=b.exports,g={name:"Admin",components:{SysMenu:v}},w=g,y=Object(m["a"])(w,c,s,!1,null,null,null),k=y.exports,_=n("7ed9"),x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form",[n("b-tabs",[n("b-tab",{attrs:{title:"支付配置"}},[n("b",[e._v("必须配置以下参数，否则充值提现都是测试版本")]),n("p"),n("label",[e._v("下单接口")]),n("b-form-input",{model:{value:e.luckyshopee.pay_url,callback:function(t){e.$set(e.luckyshopee,"pay_url",t)},expression:"luckyshopee.pay_url"}}),n("label",[e._v("代付接口")]),n("b-form-input",{model:{value:e.luckyshopee.withdraw_url,callback:function(t){e.$set(e.luckyshopee,"withdraw_url",t)},expression:"luckyshopee.withdraw_url"}}),n("label",[e._v("代付检查接口")]),n("b-form-input",{model:{value:e.luckyshopee.check_withdraw_url,callback:function(t){e.$set(e.luckyshopee,"check_withdraw_url",t)},expression:"luckyshopee.check_withdraw_url"}}),n("label",[e._v("可用资金接口")]),n("b-form-input",{model:{value:e.luckyshopee.check_fund_url,callback:function(t){e.$set(e.luckyshopee,"check_fund_url",t)},expression:"luckyshopee.check_fund_url"}}),n("label",[e._v("短信接口")]),n("b-form-input",{model:{value:e.luckyshopee.sms_url,callback:function(t){e.$set(e.luckyshopee,"sms_url",t)},expression:"luckyshopee.sms_url"}}),n("label",[e._v("appId")]),n("b-form-input",{model:{value:e.luckyshopee.appId,callback:function(t){e.$set(e.luckyshopee,"appId",t)},expression:"luckyshopee.appId"}}),n("label",[e._v("appKey")]),n("b-form-input",{model:{value:e.luckyshopee.appKey,callback:function(t){e.$set(e.luckyshopee,"appKey",t)},expression:"luckyshopee.appKey"}}),n("label",[e._v("appChannel")]),n("b-form-input",{model:{value:e.luckyshopee.appChannel,callback:function(t){e.$set(e.luckyshopee,"appChannel",t)},expression:"luckyshopee.appChannel"}})],1),n("b-tab",{attrs:{title:"提款配置"}},[n("b-form-group",{attrs:{label:"下注抽水"}},[n("b-form-input",{attrs:{formatter:e.feeFormatter},model:{value:e.feeRate,callback:function(t){e.feeRate=t},expression:"feeRate"}})],1),n("b-form-group",{attrs:{label:"取现抽水","invalid-feedback":"格式: n%+d",state:e.wfState}},[n("b-form-input",{attrs:{state:e.wfState},model:{value:e.withdrawFee,callback:function(t){e.withdrawFee=t},expression:"withdrawFee"}})],1)],1)],1),n("b-button",{attrs:{block:"",variant:"info"},on:{click:e.submit}},[e._v("Submit")])],1)},$=[],I=(n("a15b"),n("fb6a"),n("a9e3"),n("ac1f"),n("1276"),n("2d71")),O={name:"serverlet",components:{},data:function(){return{feeRate:null,withdrawFee:null,luckyshopee:{sms_url:null,pay_url:null,withdraw_url:null,check_withdraw_url:null,check_fund_url:null,appId:null,appKey:null,appChannel:null}}},computed:{wfState:function(){if(0==this.withdrawFee.length)return!1;var e=this.withdrawFee.split("%");if(e.length>2)return!1;for(var t=0;t<e.length;t++)if(e[t]=Number(e[t]),isNaN(e[t]))return!1;return!(2==e.length&&e[0]>=100)}},methods:{feeFormatter:function(e){return"%"==e.slice(-1)?e:e+"%"},submit:function(){var e=this;if(this.wfState){var t=Number(this.feeRate.slice(0,-1))/100,n=function(){var t=e.withdrawFee.split("%");if(t.length>2)return!1;for(var n=0;n<t.length;n++)if(t[n]=Number(t[n]),isNaN(t[n]))return!1;return 1==t.length&&"%"!=e.withdrawFee.slice(-1)&&(t[1]=t[0],t[0]=0),t}();if(n){var r=this.luckyshopee;Object(I["b"])((function(e){e.emit("setsettings",{luckyshopee:r,feeRate:t,withdrawPercent:(n[0]||0)/100,withdrawFixed:n[1]||0},(function(e){if(e)return alert(e);alert("success")}))}))}}}},mounted:function(){var e=this;Object(I["b"])((function(t){t.emit("getsettings",(function(t,n){if(t)return alert(t);var r="";n.withdrawPercent&&(r+=100*n.withdrawPercent+"%"),n.withdrawFixed&&(r.length>0&&(r+="+"),r+=n.withdrawFixed),n.temp_result&&n.temp_result.length&&(n.spec_result=n.temp_result.join(","),n.strategy=2),n.withdrawFee=r,n.feeRate=100*n.feeRate+"%",Object.assign(e,n)}))}))}},S=O,j=Object(m["a"])(S,x,$,!1,null,null,null),R=j.exports,C=n("9848");function A(e,t,n){var r=I["a"].loggedIn();r?n():n({path:"/login",query:{redirect:e.fullPath}})}var F=new o["a"]({routes:[{path:"/",component:R,beforeEnter:A},{path:"/serverlet",component:R,beforeEnter:A},{path:"/login",component:C["a"]},{path:"/logout",beforeEnter:function(e,t,n){I["a"].logout(),n("/")}}]});F.onReady((function(){T()}));var P=Object(I["b"])();function T(){}_["b"].$on("relogin",T),_["b"].$on("kicked",(function(e){localStorage.adminAccount=void 0,localStorage.adminToken=void 0,P.isLogined=void 0,alert(e),F.push("/login")})),r["default"].use(o["a"]),r["default"].use(i["a"]),r["default"].component("BIcon",u["a"]),r["default"].component("BIconChevronRight",l["k"]),r["default"].component("BIconChevronLeft",l["j"]),r["default"].component("BIconBoxArrowInLeft",l["b"]),r["default"].use(a["a"]),r["default"].config.productionTip=!1;var E=new a["a"].Store({state:{me:{balance:null,id:null,paytm_id:null},countdown:null,period:null,history:[],orders:[],status:null},mutations:{countdown:function(e){e.countdown>0&&e.countdown--,e.countdown<=30&&(e.status="stop_betting")}}});setInterval((function(){E.commit("countdown")}),1e3),window.v=new r["default"]({router:F,el:"#app",store:E,$eventBus:new r["default"],render:function(e){return e(k)}})}});